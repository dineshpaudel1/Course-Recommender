{% extends "adminpanel/base.html" %}

{% block title %}Edit ¬∑ {{ course.title }}{% endblock %}

{% block content %}
<a href="{% url 'admin_course_details' course.id %}"
   class="inline-flex items-center text-indigo-600 hover:underline mb-6">
  ‚Üê Back to Details
</a>



<form method="post" class="bg-white rounded-xl shadow p-8 space-y-6">
    <h1 class="text-2xl font-bold text-gray-800 mb-4">Edit Course</h1>
  {% csrf_token %}

  <!-- Two-column grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

    <!-- Title -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1" for="title">
        Title
      </label>
      <input id="title" name="title" type="text" value="{{ course.title }}"
             class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm
                    focus:outline-none focus:ring focus:border-blue-500" required>
    </div>

    <!-- URL -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1" for="url">
        URL
      </label>
      <input id="url" name="url" type="url" value="{{ course.url }}"
             class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm
                    focus:outline-none focus:ring focus:border-blue-500" required>
    </div>

    <!-- Thumbnail -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1" for="thumbnail">
        Thumbnail
      </label>
      <input id="thumbnail" name="thumbnail" type="url" value="{{ course.thumbnail }}"
             class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm
                    focus:outline-none focus:ring focus:border-blue-500">
    </div>

    <!-- Instructor -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1" for="instructor">
        Instructor
      </label>
      <select id="instructor" name="instructor"
              class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm
                     focus:outline-none focus:ring focus:border-blue-500">
        {% for inst in instructors %}
          <option value="{{ inst.id }}" {% if inst.id == course.instructor_id %}selected{% endif %}>
            {{ inst.name }}
          </option>
        {% endfor %}
      </select>
    </div>

    <!-- Num lectures -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1" for="num_lectures">
        Num lectures
      </label>
      <input id="num_lectures" name="num_lectures" type="number" min="0"
             value="{{ course.num_lectures }}"
             class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm
                    focus:outline-none focus:ring focus:border-blue-500">
    </div>

    <!-- Subscribers -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1" for="subscribers">
        Subscribers
      </label>
      <input id="subscribers" name="subscribers" type="number" min="0"
             value="{{ course.subscribers }}"
             class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm
                    focus:outline-none focus:ring focus:border-blue-500">
    </div>

    <!-- Price -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1" for="price">
        Price
      </label>
      <input id="price" name="price" type="text" value="{{ course.price }}"
             class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm
                    focus:outline-none focus:ring focus:border-blue-500">
    </div>

    <!-- Currency -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1" for="currency">
        Currency
      </label>
      <input id="currency" name="currency" type="text" value="{{ course.currency }}"
             class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm
                    focus:outline-none focus:ring focus:border-blue-500">
    </div>

    <!-- Duration -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1" for="duration">
        Duration
      </label>
      <input id="duration" name="duration" type="text" value="{{ course.duration }}"
             class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm
                    focus:outline-none focus:ring focus:border-blue-500">
    </div>

    <!-- Rating -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1" for="rating">
        Rating
      </label>
      <input id="rating" name="rating" type="number" step="0.01" min="0" max="5"
             value="{{ course.rating }}"
             class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm
                    focus:outline-none focus:ring focus:border-blue-500">
    </div>

    <!-- Topic -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1" for="topic">
        Topic
      </label>
      <input id="topic" name="topic" type="text" value="{{ course.topic }}"
             class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm
                    focus:outline-none focus:ring focus:border-blue-500">
    </div>
  </div>

  <!-- Description (full width) -->
  <div>
    <label class="block text-sm font-medium text-gray-700 mb-1" for="description">
      Description
    </label>
    <textarea id="description" name="description" rows="4"
              class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm
                     focus:outline-none focus:ring focus:border-blue-500">{{ course.description }}</textarea>
  </div>

  <!-- Buttons -->
  <div class="flex gap-4">
    <button type="submit"
            class="px-4 py-2 rounded-lg bg-blue-600 text-white text-sm font-medium hover:bg-blue-700">
      üíæ Save Changes
    </button>
    <a href="{% url 'admin_course_details' course.id %}"
       class="px-4 py-2 rounded-lg bg-gray-200 text-gray-700 text-sm font-medium hover:bg-gray-300">
      Cancel
    </a>
  </div>
</form>
{% endblock %}
